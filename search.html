<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Require Hotels</title>
    <script src="https://kit.fontawesome.com/a8f572849d.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="./search.css">
</head>

<body>

    <div id="nav">
        <div>
            <a href="./index.html">
                <img src="https://www.orbitz.com/_dms/header/logo.svg?locale=en_US&siteid=70201&2" alt="logo">
            </a>
            <div>
                <p>More travel</p>
                <span><i class="fa-sharp fa-solid fa-angle-down"></i></span>
            </div>
        </div>
        <div>
            <p>Espanol</p>
            <p>List your property</p>
            <p>Support</p>
            <p>Trips</p>
            <p id="sign-in"><a href="./sign-in.html">Sign in</a></p>
        </div>
    </div>

    <div id="booking">
        <div>
            <div>
                <p>Stays</p>
                <p>Flights</p>
                <p>Cars</p>
                <p>Packages</p>
                <p>Thing to do</p>
                <p>Cruises</p>
            </div>
            <div>
                <input type="text" placeholder="Going to" id="location" class="input">
                <input type="date" id="check-in" class="input">
                <input type="date" id="check-out" class="input">
                <input type="number" placeholder="Adult" id="Adult" class="input">
            </div>
            <div>
                <button id="search">Search</button>
            </div>
        </div>
    </div>

    <div class="main">
        <div class="filter">
            <a href="./book-later.html">
                <h3><span><i class="fa-solid fa-hotel"></i></span><span>book Later</span> </h3>
            </a>
            <h3>Filter By</h3>
            <h4>Popular Filters</h4>
            <div>
                <input type="checkbox" name="" id="">
                <span>Free airdrop shuttle</span>
            </div>
            <div>
                <input type="checkbox" name="" id="">
                <span>Breakfast included </span>
            </div>
            <div>
                <input type="checkbox" name="" id="">
                <span>Delhi (DEL - Indra Gandhi intl.)</span>
            </div>
            <div>
                <input type="checkbox" name="" id="">
                <span>Help tub</span>
            </div>
            <div>
                <input type="checkbox" name="" id="">
                <span>Hotel</span>
            </div>
            <select class="filter-by" id="price_sort">
                <option value="">Sort by price</option>
                <option value="h2l">High to Low</option>
                <option value="l2h">Low to High</option>
            </select>
            <select class="filter-by" id="rating_sort">
                <option value="nothing">Sort by rating</option>
                <option value="rating_high">High to Low</option>
                <option value="rating_low">Low to High</option>
            </select>
        </div>
        <div id="display">
            <div>
                <div>
                    <a href="./clickPage.html">
                        <img src="https://a.travel-assets.com/media/meso_cm/PAPI/Images/hotels/14000000/13240000/13235700/13235605/5be22f44_b.jpg"
                            alt="">
                    </a>
                </div>
                <div>
                    <h2>Andaz Delhi - a concept by Hyatt</h2>
                    <p>Delhi</p>
                    <p>8.8</p>
                    <p>Descrition:- Upscale Hotel Near Airports, Metro, Bussiness Hubs, Shopping Mall of the City Book 3
                        days in Advance and get 10% discount and enjoy the view.</p>
                    <h2>Price:- $133</h2>
                    <button>Book Later</button>
                </div>

                <div>
                </div>
            </div>

            <div>
                <div>
                    <img src="https://images.trvl-media.com/hotels/1000000/440000/437300/437268/0753ae5b.jpg?impolicy=resizecrop&rw=455&ra=fit"
                        alt="">
                </div>
                <div>
                    <h2>The LaLiT New Delhi
                    </h2>
                    <p>Mumbai</p>
                    <p>9.6</p>
                    <p>Descrition:- Upscale Hotel Near Airports, Metro, Bussiness Hubs, Shopping Mall of the City Book 3
                        days in Advance and get 10% discount and enjoy the view.</p>
                    <h2>Price:- $243</h2>
                    <button>Book Later</button>
                </div>
            </div>
            <div>
                <div>
                    <img src="https://images.trvl-media.com/hotels/2000000/1310000/1304400/1304393/f9968404.jpg?impolicy=resizecrop&rw=455&ra=fit"
                        alt="">
                </div>
                <div>
                    <h2>The Leela Palace New Delhi</h2>
                    <p>New Delhi</p>
                    <p>9.6</p>
                    <p>Descrition:- Upscale Hotel Near Airports, Metro, Bussiness Hubs, Shopping Mall of the City Book 3
                        days in Advance and get 10% discount and enjoy the view.</p>
                    <h2>Price:- $109</h2>
                    <button>Book Later</button>
                </div>
            </div>
            <div>
                <div>
                    <img src="https://images.trvl-media.com/hotels/1000000/470000/465100/465005/13a4747e.jpg?impolicy=resizecrop&rw=455&ra=fit"
                        alt="">
                </div>
                <div>
                    <h2>Taj Palace, New Delhi</h2>
                    <p>Banglore</p>
                    <p>9.0</p>
                    <p>Descrition:- Upscale Hotel Near Airports, Metro, Bussiness Hubs, Shopping Mall of the City Book 3
                        days in Advance and get 10% discount and enjoy the view.</p>
                    <h2>Price:- $164</h2>
                    <button>Book Later</button>
                </div>
            </div>
            <div>
                <div>
                    <img src="https://images.trvl-media.com/hotels/3000000/2600000/2593100/2593057/e7a47020.jpg?impolicy=resizecrop&rw=455&ra=fit"
                        alt="">
                </div>
                <div>
                    <h2>The Connaught, New Delhi - IHCL SeleQtions</h2>
                    <p>New Delhi</p>
                    <p>8.8</p>
                    <p>Descrition:- Upscale Hotel Near Airports, Metro, Bussiness Hubs, Shopping Mall of the City Book 3
                        days in Advance and get 10% discount and enjoy the view.</p>
                    <h2>Price:- $104</h2>
                    <button>Book Later</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<script>



    let arrObject =
        [
            {
                image: "https://a.travel-assets.com/media/meso_cm/PAPI/Images/hotels/13000000/12300000/12294000/12293981/7b7ce0cd_b.jpg",
                name: "Renaissace",
                id: 1,
                location: "Lucknow",
                rating: 9.2,
                price: 92
            },
            {
                image: "https://images.trvl-media.com/hotels/39000000/38790000/38786200/38786174/e27ec290.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Ramada Plaza by Wyndham Lucknow Hotel and Convention Centre",
                id: 2,
                location: "Lucknow",
                rating: 8.0,
                price: 82,
            },
            {
                image: "https://images.trvl-media.com/hotels/1000000/530000/526400/526355/fef36f4e.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Taj Mahel Lucknow",
                id: 3,
                location: "Lucknow",
                rating: 8.8,
                price: 115,
            },
            {
                image: "https://images.trvl-media.com/hotels/13000000/12300000/12294000/12293981/84147bdc.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Renaissance Lucknow Hotel",
                id: 4,
                location: "Lucknow",
                rating: 9.2,
                price: 92,
            },
            {
                image: "https://images.trvl-media.com/hotels/19000000/18970000/18965700/18965604/4cd65333.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Hyatt Regency Lucknow",
                id: 5,
                location: "Lucknow",
                rating: 8.6,
                price: 90,
            },
            {
                image: "https://images.trvl-media.com/hotels/17000000/16620000/16615400/16615381/a1319021.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Novotel Lucknow Gomti Nagar Hotel",
                id: 6,
                location: "Lucknow",
                rating: 8.6,
                price: 48,
            },
            {
                image: "https://a.travel-assets.com/media/meso_cm/PAPI/Images/hotels/20000000/19430000/19420400/19420372/8b663c2f_b.jpg",
                name: "Hilton Garden Inn Lucknow",
                id: 7,
                location: "Lucknow",
                rating: 8.0,
                price: 54,
            },
            {
                image: "https://images.trvl-media.com/hotels/89000000/88730000/88728500/88728441/1dc12eca.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Itsy by Treebo - Avasa Inn",
                id: 8,
                location: "Lucknow",
                rating: 8.0,
                price: 119,
            },
            {
                image: "https://images.trvl-media.com/hotels/16000000/15620000/15615400/15615387/889ff9f9.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Fairfield By Marriott Lucknow",
                id: 9,
                location: "Lucknow",
                rating: 7.9,
                price: 60,
            },
            {
                image: "https://images.trvl-media.com/hotels/21000000/20170000/20165700/20165623/b5edfbbd.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Radisson Lucknow City Center",
                id: 10,
                location: "Lucknow",
                rating: 8.5,
                price: 76,
            },
            {
                image: "https://images.trvl-media.com/hotels/31000000/30080000/30076800/30076769/w5370h3803x5y5-a4f1963f.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "The Piccadily Lucknow",
                id: 11,
                location: "Lucknow",
                rating: 8.0,
                price: 35,
            },
            {
                image: "https://images.trvl-media.com/hotels/20000000/19940000/19931000/19930985/ce557b2d.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Ginger Hotel Lucknow",
                id: 12,
                location: "Dehli",
                rating: 8.0,
                price: 35,
            },
            {
                image: "https://images.trvl-media.com/hotels/1000000/50000/45600/45540/7d7d1b86.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Clarks Avadh",
                id: 13,
                location: "Lucknow",
                rating: 7.4,
                price: 199,
            },
            {
                image: "https://images.trvl-media.com/hotels/28000000/27430000/27424000/27423954/4287ca94.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "The Grand Radiant",
                id: 14,
                location: "Lucknow",
                rating: 9.0,
                price: 33,
            },
            {
                image: "https://images.trvl-media.com/hotels/16000000/15220000/15211700/15211660/194072fb.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Lebua Lucknow",
                id: 15,
                location: "Lucknow",
                rating: 8.8,
                price: 71,
            },
            {
                image: "https://images.trvl-media.com/hotels/38000000/37870000/37861700/37861648/5f8ec2fb.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Hotel Sunrise Inn",
                id: 16,
                location: "Lucknow",
                rating: 6.0,
                price: 30,
            },
            {
                image: "https://images.trvl-media.com/hotels/72000000/72000000/71995800/71995799/fa6e8f28.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Elora Lords Eco Inn Lucknow",
                id: 17,
                location: "Lucknow",
                rating: 6.4,
                price: 51,
            },
            {
                image: "https://images.trvl-media.com/hotels/84000000/83100000/83098600/83098582/c2477bc9.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "HOLET HEERA GRAND",
                id: 18,
                location: "Lucknow",
                rating: 6.1,
                price: 18,
            },
            {
                image: "https://images.trvl-media.com/hotels/84000000/83460000/83453000/83452905/234a302d.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "SHELTER HOTEL",
                id: 19,
                location: "Lucknow",
                rating: 5.9,
                price: 20,
            },
            {
                image: "https://images.trvl-media.com/hotels/40000000/39290000/39285700/39285636/be9a71a0.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Hotel Deep Clarks Inn Lucknow",
                id: 20,
                location: "Lucknow",
                rating: 6.4,
                price: 48,
            },
            {
                image: "https://images.trvl-media.com/hotels/18000000/17430000/17421000/17420934/a94ff908.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Ramada by Wyndham Lucknow",
                id: 21,
                location: "Lucknow",
                rating: 8.0,
                price: 43,
            },
            {
                image: "https://images.trvl-media.com/hotels/85000000/84060000/84058800/84058756/14217d08.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Spacious enjoyble 3 BHK for Family and couples",
                id: 22,
                location: "Locknow",
                rating: 7.4,
                price: 80,
            },
            {
                image: "https://images.trvl-media.com/hotels/85000000/84140000/84138400/84138382/f28055ba.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Treebo Trend Shimal Reshort",
                id: 23,
                location: "Lucknow",
                rating: 6.4,
                price: 20,
            },
            {
                image: "https://images.trvl-media.com/hotels/78000000/77950000/77947700/77947664/1967defe.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Syona Residency Lucknow",
                id: 24,
                location: "Lucknow",
                rating: 7.0,
                price: 24,
            },
            {
                image: "https://images.trvl-media.com/hotels/20000000/19660000/19654800/19654709/9404bdb2.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Eclat Suites Mint Gomti Nagar",
                id: 25,
                location: "Lucknow",
                rating: 6.9,
                price: 57,
            },
            {
                image: "https://images.trvl-media.com/hotels/50000000/49010000/49005300/49005215/24d07a0a.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "The Regnant",
                id: 26,
                location: "Lucknow",
                rating: 5.9,
                price: 59,
            },
            {
                image: "https://images.trvl-media.com/hotels/77000000/76070000/76067100/76067004/b8979003.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Goroomgo Kanha Inn Lucknow",
                id: 27,
                location: "Lucknow",
                rating: 6.5,
                price: 16,
            },
            {
                image: "https://images.trvl-media.com/hotels/76000000/75850000/75847500/75847429/f2793be5.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "JC Guest House",
                id: 28,
                location: "Lucknow",
                rating: 4.9,
                price: 16,
            },
            {
                image: "https://images.trvl-media.com/hotels/25000000/24090000/24085600/24085529/a6a519dd.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Itsy By Treebo - Metro Inn",
                id: 29,
                location: "Locknow",
                rating: 6.7,
                price: 20,
            },
            {
                image: "https://images.trvl-media.com/hotels/72000000/71410000/71408700/71408612/fa222bb3.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "Fully Furnished 2 BHK Suite - 2 rooms, lobby, kitchen, 2 bathrooms, Garden",
                id: 30,
                location: "Lucknow",
                rating: 8.0,
                price: 147,
            }
            ,
            {
                image: "https://a.travel-assets.com/media/meso_cm/PAPI/Images/hotels/13000000/12300000/12294000/12293981/7b7ce0cd_b.jpg",
                name: "Renaissace",
                id: 31,
                location: "Delhi",
                rating: 9.2,
                price: 92
            },
            {
                image: "https://images.trvl-media.com/hotels/76000000/75850000/75847500/75847429/f2793be5.jpg?impolicy=resizecrop&rw=455&ra=fit",
                name: "JC Guest House",
                id: 32,
                location: "Delhi",
                rating: 4.9,
                price: 16,
            },
        ]

    let mainData = JSON.parse(localStorage.getItem("mainData")) || [];
    arrObject.forEach((element, index) => {
        mainData.push(element);
    })

    localStorage.setItem(mainData, JSON.stringify(mainData));

    let cartData = JSON.parse(localStorage.getItem("cartData")) || [];
    let search = document.getElementById("search");
    let name = document.getElementById("location");
    let display = document.getElementById("display");

    search.addEventListener("click", () => {
        let hotel = name.value;

        let showData = mainData.filter((element, index) => {
            return hotel == element.location;
        })
        displayData(showData);
    })

    function displayData(data) {
        display.innerHTML = null;
        data.forEach((element, index) => {
            let main_div = document.createElement("div");
            let anchor = document.createElement("a");
            anchor.setAttribute("href", "./clickPage.html");
            let image_div = document.createElement("div");
            let image = document.createElement("img");
            image.setAttribute("src", element.image);
            image_div.append(image);
            anchor.append(image_div);
            let data_div = document.createElement("div");
            let name = document.createElement("h2");
            name.setAttribute("class", "hotel-name");
            name.innerText = element.name;
            let place = document.createElement("p");
            place.innerText = element.location;
            let rating = document.createElement("p");
            rating.innerText = element.rating;
            let price = document.createElement("h2");
            price.innerText = "Price  " + "$" + element.price;
            let description = document.createElement("p");
            description.innerText = "Descrition:- Upscale Hotel Near Airports, Metro, Bussiness Hubs, Shopping Mall of the City Book 3 days in Advance and get 10% discount and enjoy the view."
            let button = document.createElement("button");
            button.innerText = "Book Later";
            button.addEventListener("click", () => {
                let isThere = false;
                for (let i = 0; i < cartData.length; i++) {
                    if (element.id == cartData[i].id) {
                        isThere = true;
                        break;
                    }
                }
                if (isThere == true) {
                    alert("This hotel is already present in your Book Later list");
                } else {
                    cartData.push(element);
                    localStorage.setItem("cartData", JSON.stringify(cartData));
                    alert("Successfully added in your book Later list")
                }
            })
            data_div.append(name, place, rating, description, price, button);
            button.innerText = "Book Later";
            main_div.append(anchor, data_div);
            
            display.append(main_div);
        })
    }
    sortByPrice(mainData);
    function sortByPrice(data) {
        let price_sort = document.getElementById("price_sort");
        price_sort.addEventListener("change", () => {
            console.log(price_sort.value);
            if (price_sort.value == "h2l") {
                data.sort((a, b) => b.price - a.price);
                displayData(data);
            }
            else if (price_sort.value == "l2h") {
                data.sort((a, b) => a.price - b.price);
                displayData(data);
            }
        })
    }
    sortByrating(mainData);
    function sortByrating(data) {
        let rating_sort = document.getElementById("rating_sort");
        rating_sort.addEventListener("change", () => {
            console.log(rating_sort.value);
            if (rating_sort.value == "rating_high") {
                data.sort((a, b) => b.rating - a.rating);
                displayData(data);
            }
            else if (rating_sort.value == "rating_low") {
                data.sort((a, b) => a.rating - b.rating);
                displayData(data);
            }
        })
    }
</script>